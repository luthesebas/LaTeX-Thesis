%%%------------------------------------%%%
%% Template
%% Author: Sebastian Luther
%%%------------------------------------%%%



%%%------------------------------------%%%
%%% Document
%%%------------------------------------%%%
\documentclass[ngerman, a4paper, 11pt, pdftex]{scrreprt}

%%%------------------------------------%%%
%%% Settings
%%%------------------------------------%%%
\input{Assets/SettingsDefinitions.tex}
\input{Settings.tex}

%%%------------------------------------%%%
%%% Headings
%%%------------------------------------%%%
\input{Assets/Headings.tex}

%%%------------------------------------%%%
%%% Meta-Data
%%%------------------------------------%%%
\AtBeginDocument{
	\hypersetup{
		pdftitle=\pdftitle, % Set the PDF's title
		pdfauthor=\pdfauthor, % Set the PDF's author
		pdfkeywords={\pdftags},	% Set the PDF's keywords
		pdfsubject={\pdftitle},
		pdfcreator={pdflatex, LaTeX with KOMA-Script},
		pdfpagemode=UseOutlines,
		pdfdisplaydoctitle=true,
	}
}

%%%--------------------------------%%%
%%% Custom commands
%%%--------------------------------%%%
\input{CustomCommands.tex}

%%%------------------------------------%%%
%%%------------------------------------%%%
\newcounter{savepage} 	% Counter for Acronyms, Glossary, List of Figures,
						% Tables, Listings, Equations and Appendix

\begin{document}	
	\renewcommand*{\chapterpagestyle}{empty}
	\pagestyle{empty}
	
	%%%---Deckblatt
	%%%--------------------------------%%%
	\input{Assets/Cover.tex}
	
	%%%---Abstract
	%%%--------------------------------%%%
	\clearpage
	\input{Content/Abstract.tex}	
	
	%%%---Vermerk
	%%%--------------------------------%%%
	\clearpage
	\input{Assets/Notice.tex}
	
	%%%--------------------------------%%%
	%%% Table of Content
	%%%--------------------------------%%%
	\cleardoublepage
	
	\etocdepthtag.toc{mtchapter}
	\etocsettagdepth{mtchapter}{subsection}
	\etocsettagdepth{mtappendix}{none}
	\tableofcontents\thispagestyle{empty}
	
		%%%--------------------------------%%%
		%%% Directories
		%%%--------------------------------%%%
		\cleardoublepage
		\renewcommand*{\chapterpagestyle}{simple}
		\pagestyle{simple} % Defined in Headings.tex
		
		\pagenumbering{Roman} 	% Continue with roman numbering
		\setcounter{page}{1} 	% Continue with roman page counter
		
			%%%--------------------------------%%%
			%%% List of Figures, Tables, Listings and Equations
			%%%--------------------------------%%%
			\phantomsection
			\addcontentsline{toc}{chapter}{\listfigurename}
			\listoffigures			% List of Figures
			
			\cleardoublepage
			\phantomsection
			\addcontentsline{toc}{chapter}{\listtablename}
			\listoftables			% List of Tables
			
			\cleardoublepage
			\phantomsection
			\addcontentsline{toc}{chapter}{\nameoflistingstable}
			\lstlistoflistings		% List of Listings
			
			\cleardoublepage
			\phantomsection
			\addcontentsline{toc}{chapter}{\nameofequationstable}
			\listofequations		% List of Equations
	
			%%%--------------------------------%%%
			%%% Acronyms
			%%%--------------------------------%%%
			\cleardoublepage
			\phantomsection
			\addcontentsline{toc}{chapter}{\nameofacronymstable}
			\input{Content/Acronyms.tex}
	
	%%%--------------------------------%%%
	%%% Content
	%%%--------------------------------%%%
	\clearpage
	\renewcommand*{\chapterpagestyle}{simple}
	\pagestyle{nice} % Defined in Headings.tex
	
	\setcounter{savepage}{\arabic{page}} 	% Save current roman page numer
	\pagenumbering{arabic} 					% Continue with arabic numbering
	
	\setcounter{page}{1} % Reset page numbering
	
		%%%--------------------------------%%%
		%%% Sections
		%%%--------------------------------%%%
		\input{Content/01_Introduction.tex}
		
		\input{Content/02_Background.tex}
		
		\input{Content/03_Purpose.tex}
		
		\input{Content/04_Theory.tex}
		
		\input{Content/05_Analysis.tex}
		
		\input{Content/06_Conception.tex}	
		
		\input{Content/07_Implementation.tex}	
		
		\input{Content/08_Conclusion.tex}
	
	%%%--------------------------------%%%	
	%%% Bibliography
	%%%--------------------------------%%%	
	\cleardoublepage
	
	\printbibliography[keyword=extern, heading=bibintoc, title={\nameofreferences}]
	\printbibliography[keyword=intern, title={\nameofreferencesinternal}]
	
	%%%--------------------------------%%%
	%%% Glossary
	%%%--------------------------------%%%
	\cleardoublepage
	
	\pagenumbering{Roman} 			% Continue with roman numbering
	\setcounter{page}{\thesavepage} % Continue with roman page counter
	
	\input{Content/Glossar}
	\addcontentsline{toc}{chapter}{Glossar}
	
	%%%--------------------------------%%%
	%%% Appendix
	%%%--------------------------------%%%
	\cleardoublepage
	
	\phantomsection
	\label{ch:appendix}
	\addcontentsline{toc}{chapter}{\nameofappendix}
	
	% Table of appendix	
	\etocdepthtag.toc{mtappendix}
	\etocsettagdepth{mtchapter}{none}
	\etocsettagdepth{mtappendix}{subsection}
	\etoctocstyle{0}{\nameofappendix}
	\tableofcontents
	
	% Appendix content
	\clearpage
	\appendix
	
	\foreach \i in {01,02,03,04,05,06,07,08,09,...,99} {%
		\edef\FileName{Appendix/\i_appendix}%
		\IfFileExists{\FileName}{%
			\input{\FileName}
		}
		{%
			% File does not exist
		}
	}%foreach	
\end{document}


