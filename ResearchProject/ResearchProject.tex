%%%------------------------------------%%%
%% Vorlage fuer Bachelorarbeiten (o.ae.)
%%
%% Autor: Sebastian Luther
%%%------------------------------------%%%


%%%------------------------------------%%%
%%% Document
%%%------------------------------------%%%
\documentclass[ngerman, a4paper, 11pt, pdftex]{scrreprt}

%%%------------------------------------%%%
%%% Settings
%%%------------------------------------%%%
\input{Assets/SettingsDefinitions.tex}
\input{Settings.tex}

%%%------------------------------------%%%
%%% Headings
%%%------------------------------------%%%
\input{Assets/Headings.tex}

%%%------------------------------------%%%
%%% Meta-Data
%%%------------------------------------%%%
\AtBeginDocument{
	\hypersetup{
		pdftitle=\pdftitle, % Set the PDF's title
		pdfauthor=\pdfauthor, % Set the PDF's author
		pdfkeywords={\pdftags},	% Set the PDF's keywords
		pdfsubject={\pdftitle},
		pdfcreator={pdflatex, LaTeX with KOMA-Script},
		pdfpagemode=UseOutlines,
		pdfdisplaydoctitle=true,
	}
}

%%%--------------------------------%%%
%%% Custom commands
%%%--------------------------------%%%
\input{CustomCommands.tex}

%%%------------------------------------%%%
%%%------------------------------------%%%
\newcounter{savepage} 	% Counter for Acronyms, Glossary, List of Figures,
						% Tables, Listings, Equations and Appendix

\begin{document}	
	\renewcommand*{\chapterpagestyle}{empty}
	\pagestyle{empty}
	
	%%%---Deckblatt
	%%%--------------------------------%%%
	\input{Assets/Cover.tex}
	
	%%%---Vermerk
	%%%--------------------------------%%%
	\clearpage
	\input{Assets/Notice.tex}
	
	%%%---Abstract
	%%%--------------------------------%%%
	\clearpage
	\input{Content/01_Abstract.tex}	
	
	%%%--------------------------------%%%
	%%% Directories
	%%%--------------------------------%%%
	\clearpage
	\renewcommand*{\chapterpagestyle}{simple}
	\pagestyle{simple} % Defined in Headings.tex
	
	\pagenumbering{Roman} 	% Continue with roman numbering
	\setcounter{page}{1} 	% Continue with roman page counter
	
		%%%--------------------------------%%%
		%%% Acronyms
		%%%--------------------------------%%%
		\input{Content/02_Acronyms.tex}
		
		%%%--------------------------------%%%
		%%% Glossary
		%%%--------------------------------%%%
		\clearpage
		\input{Content/03_Glossar}
		
		%%%--------------------------------%%%
		%%% List of Figures, Tables, Listings and Equations
		%%%--------------------------------%%%
		\clearpage
		\listoffigures			% List of Figures
		
		\clearpage
		\listoftables			% List of Tables
		
		\clearpage
		\lstlistoflistings		% List of Listings
		
		\clearpage		
		\listofequations		% List of Equations
		
		%%%--------------------------------%%%
		%%% Table of Content
		%%%--------------------------------%%%
		\clearpage
		\pagestyle{empty}
				
		\setcounter{savepage}{\arabic{page}} 	% Save current roman page numer
		\pagenumbering{arabic} 					% Continue with arabic numbering
		
		\etocdepthtag.toc{mtchapter}
		\etocsettagdepth{mtchapter}{subsection}
		\etocsettagdepth{mtappendix}{none}
		\tableofcontents\thispagestyle{empty}
	
	%%%--------------------------------%%%
	%%% Content
	%%%--------------------------------%%%
	\clearpage
	\renewcommand*{\chapterpagestyle}{simple}
	\pagestyle{nice} % Defined in Headings.tex
	
	\setcounter{page}{1} % Reset page numbering
	
		%%%--------------------------------%%%
		%%% Sections
		%%%--------------------------------%%%
		\input{Content/04_Introduction.tex}
		
		\input{Content/05_Background.tex}
		
		\input{Content/06_Purpose.tex}
		
		\input{Content/07_Theory.tex}
		
		\input{Content/08_Analysis.tex}
		
		\input{Content/09_Conception.tex}	
		
		\input{Content/10_Implementation.tex}	
		
		\input{Content/11_Conclusion.tex}
	
	%%%--------------------------------%%%	
	%%% Bibliography
	%%%--------------------------------%%%	
	\clearpage

	\phantomsection
	\label{ch:bibliography}
	\addcontentsline{toc}{chapter}{\nameofreferences}
	
	\printbibliography[keyword=extern, heading=bibintoc, title={\nameofreferences}]
	\printbibliography[keyword=intern, heading=bibintoc, title={\nameofreferencesinternal}]
	
	%%%--------------------------------%%%
	%%% Appendix
	%%%--------------------------------%%%
	\clearpage
	
	\phantomsection
	\label{ch:appendix}
	\addcontentsline{toc}{chapter}{\nameofappendix}
	
	\pagenumbering{Roman} 			% Continue with roman numbering
	\setcounter{page}{\thesavepage} % Continue with roman page counter
	
	% Table of appendix	
	\etocdepthtag.toc{mtappendix}
	\etocsettagdepth{mtchapter}{none}
	\etocsettagdepth{mtappendix}{subsection}
	\etoctocstyle{0}{\nameofappendix}
	\tableofcontents
	
	% Appendix content
	\clearpage
	\appendix
	
	\foreach \i in {01,02,03,04,05,06,07,08,09,...,99} {%
		\edef\FileName{Appendix/\i_appendix}%
		\IfFileExists{\FileName}{%
			\input{\FileName}
		}
		{%
			% File does not exist
		}
	}%foreach	
\end{document}


